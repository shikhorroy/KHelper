<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KHelper - Home</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- Navigation Menu -->
<nav class="navbar">
    <div class="nav-container">
        <a href="/" class="nav-brand">
            <span class="wave-letter">K</span><span class="wave-letter">H</span><span class="wave-letter">e</span><span class="wave-letter">l</span><span class="wave-letter">p</span><span class="wave-letter">e</span><span class="wave-letter">r</span>
        </a>
        <ul class="nav-menu" id="navMenu">
            <li class="nav-item">
                <a href="/" class="nav-link active">
                    🏠 Home
                </a>
            </li>
            <li class="nav-item">
                <a href="compare.html" class="nav-link">
                    🔍 Comparison
                </a>
            </li>
            <li class="nav-item">
                <a href="tests.html" class="nav-link">
                    🧪 Tests Manager
                </a>
            </li>
            <li class="nav-item">
                <a href="archive.html" class="nav-link">
                    📚 Archives
                </a>
            </li>
            <li class="nav-item">
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                    <span id="theme-icon">🌙</span>
                </button>
            </li>
            <li class="nav-item">
                <button class="shortcuts-toggle" onclick="toggleShortcutsMenu()" aria-label="View shortcuts">
                    ⌨️
                </button>
            </li>
        </ul>
    </div>
</nav>

<!-- Shortcuts Menu Dropdown -->
<div id="shortcuts-menu" class="shortcuts-menu" style="display: none;">
    <div class="shortcuts-menu-header">
        <h3>⌨️ Keyboard Shortcuts</h3>
        <button class="shortcuts-close" onclick="toggleShortcutsMenu()">✕</button>
    </div>
    <div class="shortcuts-list">
        <div class="shortcut-item">
            <kbd>A</kbd>
            <span>Toggle animations on/off</span>
        </div>
        <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>D</kbd>
            <span>Clear all files</span>
        </div>
    </div>
</div>

<div class="container">
    <h1><span class="spinning-emoji">⏳</span> Pending Requests<span class="loading-dots"></span></h1>

    <div class="status">
        <span id="server-status">Server running on localhost:10045</span>
        <span> | </span>
        <span id="pending-count">Pending: 0</span>
    </div>

    <div id="requests-container">
        <div class="no-requests">
            No pending requests. Waiting for Competitive Companion...
        </div>
    </div>
</div>

<!-- Clear All Modal -->
<div id="clearAllModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2>🗑️ Clear All - Select Items to Delete</h2>
        </div>
        <div class="modal-body">
            <p style="margin-bottom: 16px; color: var(--error); font-weight: 600;">
                ⚠️ Warning: This action cannot be undone!
            </p>

            <div style="margin-bottom: 20px;">
                <label style="display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer; border-radius: 4px; transition: background 0.2s;">
                    <input type="checkbox" id="clearTestInputs" checked style="width: 18px; height: 18px; cursor: pointer;">
                    <span style="font-weight: 500;">Test Input Files (sample/input/)</span>
                </label>

                <label style="display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer; border-radius: 4px; transition: background 0.2s;">
                    <input type="checkbox" id="clearTestOutputs" checked style="width: 18px; height: 18px; cursor: pointer;">
                    <span style="font-weight: 500;">Expected Output Files (sample/output/)</span>
                </label>

                <label style="display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer; border-radius: 4px; transition: background 0.2s;">
                    <input type="checkbox" id="clearActualOutputs" checked style="width: 18px; height: 18px; cursor: pointer;">
                    <span style="font-weight: 500;">Actual Output Files (output/)</span>
                </label>

                <label style="display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer; border-radius: 4px; transition: background 0.2s;">
                    <input type="checkbox" id="clearMatchedTests" checked style="width: 18px; height: 18px; cursor: pointer;">
                    <span style="font-weight: 500;">Matched Tests Tracking (.matched-tests.txt)</span>
                </label>

                <label style="display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer; border-radius: 4px; transition: background 0.2s;">
                    <input type="checkbox" id="clearProblemMeta" checked style="width: 18px; height: 18px; cursor: pointer;">
                    <span style="font-weight: 500;">Problem Metadata (.problem-meta.txt)</span>
                </label>

                <label style="display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer; border-radius: 4px; transition: background 0.2s;">
                    <input type="checkbox" id="clearSingleFiles" style="width: 18px; height: 18px; cursor: pointer;">
                    <span style="font-weight: 500;">Single Input/Output Files</span>
                </label>
            </div>

            <div style="display: flex; gap: 10px; margin-bottom: 16px;">
                <button onclick="selectAllClearItems()" class="btn-secondary" style="padding: 8px 16px; font-size: 14px;">
                    ✓ Select All
                </button>
                <button onclick="deselectAllClearItems()" class="btn-secondary" style="padding: 8px 16px; font-size: 14px;">
                    ✗ Deselect All
                </button>
            </div>

            <p style="margin-top: 16px; padding: 12px; background: var(--bg-secondary); border-left: 3px solid var(--success); border-radius: 4px; font-size: 14px;">
                ✅ <strong>Safe:</strong> Archives folder will never be deleted
            </p>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeClearAllModal()">Cancel</button>
            <button class="btn-confirm" onclick="confirmClearAll()" style="background: var(--error);">
                🗑️ Clear Selected Items
            </button>
        </div>
    </div>
</div>

<script src="main.js"></script>
</body>
</html>

